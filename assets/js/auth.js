
const loginBtn=document.getElementById('loginBtn');const logoutBtn=document.getElementById('logoutBtn');const userChip=document.getElementById('userChip');const userName=document.getElementById('userName');const userPhoto=document.getElementById('userPhoto'); if(loginBtn){ const provider=new firebase.auth.GoogleAuthProvider(); loginBtn.addEventListener('click',()=>{ firebase.auth().signInWithPopup(provider).catch(console.error); }); } logoutBtn?.addEventListener('click',()=> firebase.auth().signOut() ); firebase.auth().onAuthStateChanged(user=>{ if(user){ userName.textContent=user.displayName || user.email; userPhoto.src=user.photoURL || ''; userChip.classList.remove('hidden'); logoutBtn.classList.remove('hidden'); loginBtn?.classList.add('hidden'); } else { userChip.classList.add('hidden'); logoutBtn.classList.add('hidden'); loginBtn?.classList.remove('hidden'); } });
